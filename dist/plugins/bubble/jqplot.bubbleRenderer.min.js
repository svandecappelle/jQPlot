!function(a){function b(a,b,c){a.plugins.bubbleRenderer.highlightLabelCanvas.empty();var d=a.series[b],e=a.plugins.bubbleRenderer.highlightCanvas,f=e._ctx;f.clearRect(0,0,f.canvas.width,f.canvas.height),d._highlightedPoint=c,a.plugins.bubbleRenderer.highlightedSeriesIndex=b;var g=d.highlightColorGenerator.get(c),h=d.gridData[c][0],i=d.gridData[c][1],j=d.gridData[c][2];f.save(),f.fillStyle=g,f.strokeStyle=g,f.lineWidth=1,f.beginPath(),f.arc(h,i,j,0,2*Math.PI,0),f.closePath(),f.fill(),f.restore(),d.labels[c]&&(a.plugins.bubbleRenderer.highlightLabel=d.labels[c].clone(),a.plugins.bubbleRenderer.highlightLabel.appendTo(a.plugins.bubbleRenderer.highlightLabelCanvas),a.plugins.bubbleRenderer.highlightLabel.addClass("jqplot-bubble-label-highlight"))}function c(a){var b=a.plugins.bubbleRenderer.highlightCanvas;a.plugins.bubbleRenderer.highlightedSeriesIndex;a.plugins.bubbleRenderer.highlightLabelCanvas.empty(),b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(var c=0;c<a.series.length;c++)a.series[c]._highlightedPoint=null;a.plugins.bubbleRenderer.highlightedSeriesIndex=null,a.target.trigger("jqplotDataUnhighlight")}function d(a,d,e,f,g){if(f){var h=f.seriesIndex,i=f.pointIndex,j=[h,i,f.data,g.series[h].gridData[i][2]],k=jQuery.Event("jqplotDataMouseOver");if(k.pageX=a.pageX,k.pageY=a.pageY,g.target.trigger(k,j),g.series[j[0]].highlightMouseOver&&(j[0]!=g.plugins.bubbleRenderer.highlightedSeriesIndex||j[1]!=g.series[j[0]]._highlightedPoint)){var l=jQuery.Event("jqplotDataHighlight");l.which=a.which,l.pageX=a.pageX,l.pageY=a.pageY,g.target.trigger(l,j),b(g,j[0],j[1])}}else null==f&&c(g)}function e(a,d,e,f,g){if(f){var h=f.seriesIndex,i=f.pointIndex,j=[h,i,f.data,g.series[h].gridData[i][2]];if(g.series[j[0]].highlightMouseDown&&(j[0]!=g.plugins.bubbleRenderer.highlightedSeriesIndex||j[1]!=g.series[j[0]]._highlightedPoint)){var k=jQuery.Event("jqplotDataHighlight");k.which=a.which,k.pageX=a.pageX,k.pageY=a.pageY,g.target.trigger(k,j),b(g,j[0],j[1])}}else null==f&&c(g)}function f(a,b,d,e,f){var g=f.plugins.bubbleRenderer.highlightedSeriesIndex;null!=g&&f.series[g].highlightMouseDown&&c(f)}function g(a,b,c,d,e){if(d){var f=d.seriesIndex,g=d.pointIndex,h=[f,g,d.data,e.series[f].gridData[g][2]],i=jQuery.Event("jqplotDataClick");i.which=a.which,i.pageX=a.pageX,i.pageY=a.pageY,e.target.trigger(i,h)}}function h(a,b,d,e,f){if(e){var g=e.seriesIndex,h=e.pointIndex,i=[g,h,e.data,f.series[g].gridData[h][2]],j=f.plugins.bubbleRenderer.highlightedSeriesIndex;null!=j&&f.series[j].highlightMouseDown&&c(f);var k=jQuery.Event("jqplotDataRightClick");k.which=a.which,k.pageX=a.pageX,k.pageY=a.pageY,f.target.trigger(k,i)}}function i(){this.plugins.bubbleRenderer&&this.plugins.bubbleRenderer.highlightCanvas&&(this.plugins.bubbleRenderer.highlightCanvas.resetCanvas(),this.plugins.bubbleRenderer.highlightCanvas=null),this.plugins.bubbleRenderer={highlightedSeriesIndex:null},this.plugins.bubbleRenderer.highlightCanvas=new a.jqplot.GenericCanvas,this.plugins.bubbleRenderer.highlightLabel=null,this.plugins.bubbleRenderer.highlightLabelCanvas=a('<div style="position:absolute;"></div>');var b=this._gridPadding.top,c=this._gridPadding.left,d=this._plotDimensions.width-this._gridPadding.left-this._gridPadding.right,e=this._plotDimensions.height-this._gridPadding.top-this._gridPadding.bottom;this.plugins.bubbleRenderer.highlightLabelCanvas.css({top:b,left:c,width:d+"px",height:e+"px"}),this.eventCanvas._elem.before(this.plugins.bubbleRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-bubbleRenderer-highlight-canvas",this._plotDimensions,this)),this.eventCanvas._elem.before(this.plugins.bubbleRenderer.highlightLabelCanvas);this.plugins.bubbleRenderer.highlightCanvas.setContext()}function j(b,c,d){d=d||{},d.axesDefaults=d.axesDefaults||{},d.seriesDefaults=d.seriesDefaults||{};var e=!1;if(d.seriesDefaults.renderer==a.jqplot.BubbleRenderer)e=!0;else if(d.series)for(var f=0;f<d.series.length;f++)d.series[f].renderer==a.jqplot.BubbleRenderer&&(e=!0);e&&(d.axesDefaults.renderer=a.jqplot.BubbleAxisRenderer,d.sortData=!1)}var k=function(a){return Math.max.apply(Math,a)};a.jqplot.BubbleRenderer=function(){a.jqplot.LineRenderer.call(this)},a.jqplot.BubbleRenderer.prototype=new a.jqplot.LineRenderer,a.jqplot.BubbleRenderer.prototype.constructor=a.jqplot.BubbleRenderer,a.jqplot.BubbleRenderer.prototype.init=function(b,c){this.varyBubbleColors=!0,this.autoscaleBubbles=!0,this.autoscaleMultiplier=1,this.autoscalePointsFactor=-.07,this.escapeHtml=!0,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.bubbleAlpha=1,this.highlightAlpha=null,this.bubbleGradients=!1,this.showLabels=!0,this.radii=[],this.maxRadius=0,this._highlightedPoint=null,this.labels=[],this.bubbleCanvases=[],this._type="bubble",b.highlightMouseDown&&null==b.highlightMouseOver&&(b.highlightMouseOver=!1),a.extend(!0,this,b),null==this.highlightAlpha&&(this.highlightAlpha=this.bubbleAlpha,this.bubbleGradients&&(this.highlightAlpha=.35)),this.autoscaleMultiplier=this.autoscaleMultiplier*Math.pow(this.data.length,this.autoscalePointsFactor),this._highlightedPoint=null;for(var j,k=0;k<this.data.length;k++){var l=null,m=this.data[k];this.maxRadius=Math.max(this.maxRadius,m[2]),m[3]&&"object"==typeof m[3]&&(l=m[3].color),null==l&&null!=this.seriesColors[k]&&(l=this.seriesColors[k]),l&&this.bubbleAlpha<1&&(j=a.jqplot.getColorComponents(l),l="rgba("+j[0]+", "+j[1]+", "+j[2]+", "+this.bubbleAlpha+")"),l&&(this.seriesColors[k]=l)}if(this.varyBubbleColors||(this.seriesColors=[this.color]),this.colorGenerator=new a.jqplot.ColorGenerator(this.seriesColors),0==this.highlightColors.length)for(var k=0;k<this.seriesColors.length;k++){for(var n=a.jqplot.getColorComponents(this.seriesColors[k]),o=[n[0],n[1],n[2]],p=o[0]+o[1]+o[2],q=0;3>q;q++)o[q]=p>570?.8*o[q]:o[q]+.3*(255-o[q]),o[q]=parseInt(o[q],10);this.highlightColors.push("rgba("+o[0]+","+o[1]+","+o[2]+", "+this.highlightAlpha+")")}this.highlightColorGenerator=new a.jqplot.ColorGenerator(this.highlightColors);var r={fill:!0,isarc:!0,angle:this.shadowAngle,alpha:this.shadowAlpha,closePath:!0};this.renderer.shadowRenderer.init(r),this.canvas=new a.jqplot.DivCanvas,this.canvas._plotDimensions=this._plotDimensions,c.eventListenerHooks.addOnce("jqplotMouseMove",d),c.eventListenerHooks.addOnce("jqplotMouseDown",e),c.eventListenerHooks.addOnce("jqplotMouseUp",f),c.eventListenerHooks.addOnce("jqplotClick",g),c.eventListenerHooks.addOnce("jqplotRightClick",h),c.postDrawHooks.addOnce(i)},a.jqplot.BubbleRenderer.prototype.setGridData=function(a){var b=this._xaxis.series_u2p,c=this._yaxis.series_u2p,d=this._plotData;this.gridData=[];var e=[];this.radii=[];for(var f=Math.min(a._height,a._width),g=0;g<this.data.length;g++)null!=d[g]&&(this.gridData.push([b.call(this._xaxis,d[g][0]),c.call(this._yaxis,d[g][1]),d[g][2]]),this.radii.push([g,d[g][2]]),e.push(d[g][2]));var h,i,j=this.maxRadius=k(e),l=this.gridData.length;if(this.autoscaleBubbles)for(var g=0;l>g;g++)i=e[g]/j,h=this.autoscaleMultiplier*f/6,this.gridData[g][2]=h*i;this.radii.sort(function(a,b){return b[1]-a[1]})},a.jqplot.BubbleRenderer.prototype.makeGridData=function(a,b){var c=this._xaxis.series_u2p,d=this._yaxis.series_u2p,e=[],f=[];this.radii=[];for(var g=Math.min(b._height,b._width),h=0;h<a.length;h++)null!=a[h]&&(e.push([c.call(this._xaxis,a[h][0]),d.call(this._yaxis,a[h][1]),a[h][2]]),f.push(a[h][2]),this.radii.push([h,a[h][2]]));var i,j,l=this.maxRadius=k(f),m=this.gridData.length;if(this.autoscaleBubbles)for(var h=0;m>h;h++)j=f[h]/l,i=this.autoscaleMultiplier*g/6,e[h][2]=i*j;return this.radii.sort(function(a,b){return b[1]-a[1]}),e},a.jqplot.BubbleRenderer.prototype.draw=function(b,c,d){this.plugins.pointLabels&&(this.plugins.pointLabels.show=!1);var e=void 0!=d?d:{};void 0!=e.shadow?e.shadow:this.shadow;this.canvas._elem.empty();for(var f=0;f<this.radii.length;f++){var g=this.radii[f][0],h=null,i=null,j=null,k=this.data[g],c=this.gridData[g];k[3]&&("object"==typeof k[3]?h=k[3].label:"string"==typeof k[3]&&(h=k[3])),i=this.colorGenerator.get(g);var l,m,n=c[2];this.shadow&&(l=(.7+c[2]/40).toFixed(1),m=1+Math.ceil(c[2]/15),n+=l*m),this.bubbleCanvases[g]=new a.jqplot.BubbleCanvas,this.canvas._elem.append(this.bubbleCanvases[g].createElement(c[0],c[1],n)),this.bubbleCanvases[g].setContext();var b=this.bubbleCanvases[g]._ctx,o=b.canvas.width/2,p=b.canvas.height/2;if(this.shadow&&this.renderer.shadowRenderer.draw(b,[o,p,c[2],0,2*Math.PI],{offset:l,depth:m}),this.bubbleCanvases[g].draw(c[2],i,this.bubbleGradients,this.shadowAngle/180*Math.PI),h&&this.showLabels){j=a('<div style="position:absolute;" class="jqplot-bubble-label"></div>'),this.escapeHtml?j.text(h):j.html(h),this.canvas._elem.append(j);var q=a(j).outerHeight(),r=a(j).outerWidth(),s=c[1]-.5*q,t=c[0]-.5*r;j.css({top:s,left:t}),this.labels[g]=a(j)}}},a.jqplot.DivCanvas=function(){a.jqplot.ElemContainer.call(this),this._ctx},a.jqplot.DivCanvas.prototype=new a.jqplot.ElemContainer,a.jqplot.DivCanvas.prototype.constructor=a.jqplot.DivCanvas,a.jqplot.DivCanvas.prototype.createElement=function(b,c,d){this._offsets=b;var e="jqplot-DivCanvas";void 0!=c&&(e=c);var f;f=this._elem?this._elem.get(0):document.createElement("div"),void 0!=d&&(this._plotDimensions=d);var g=this._plotDimensions.width-this._offsets.left-this._offsets.right+"px",h=this._plotDimensions.height-this._offsets.top-this._offsets.bottom+"px";return this._elem=a(f),this._elem.css({position:"absolute",width:g,height:h,left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(e),this._elem},a.jqplot.DivCanvas.prototype.setContext=function(){return this._ctx={canvas:{width:0,height:0},clearRect:function(){return null}},this._ctx},a.jqplot.BubbleCanvas=function(){a.jqplot.ElemContainer.call(this),this._ctx},a.jqplot.BubbleCanvas.prototype=new a.jqplot.ElemContainer,a.jqplot.BubbleCanvas.prototype.constructor=a.jqplot.BubbleCanvas,a.jqplot.BubbleCanvas.prototype.createElement=function(b,c,d){var e,f="jqplot-bubble-point";e=this._elem?this._elem.get(0):document.createElement("canvas"),e.width=null!=d?2*d:e.width,e.height=null!=d?2*d:e.height,this._elem=a(e);var g=null!=b&&null!=d?b-d:this._elem.css("left"),h=null!=c&&null!=d?c-d:this._elem.css("top");return this._elem.css({position:"absolute",left:g,top:h}),this._elem.addClass(f),a.jqplot.use_excanvas&&(window.G_vmlCanvasManager.init_(document),e=window.G_vmlCanvasManager.initElement(e)),this._elem},a.jqplot.BubbleCanvas.prototype.draw=function(b,c,d,e){var f=this._ctx,g=f.canvas.width/2,h=f.canvas.height/2;if(f.save(),d&&!a.jqplot.use_excanvas){b=1.04*b;var i=a.jqplot.getColorComponents(c),j="rgba("+Math.round(i[0]+.8*(255-i[0]))+", "+Math.round(i[1]+.8*(255-i[1]))+", "+Math.round(i[2]+.8*(255-i[2]))+", "+i[3]+")",k="rgba("+i[0]+", "+i[1]+", "+i[2]+", 0)",l=.35*b,m=g-.33*Math.cos(e)*b,n=h-.33*Math.sin(e)*b,o=f.createRadialGradient(m,n,l,g,h,b);o.addColorStop(0,j),o.addColorStop(.93,c),o.addColorStop(.96,k),o.addColorStop(1,k),f.fillStyle=o,f.fillRect(0,0,f.canvas.width,f.canvas.height)}else{f.fillStyle=c,f.strokeStyle=c,f.lineWidth=1,f.beginPath();var p=2*Math.PI;f.arc(g,h,b,0,p,0),f.closePath(),f.fill()}f.restore()},a.jqplot.BubbleCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},a.jqplot.BubbleAxisRenderer=function(){a.jqplot.LinearAxisRenderer.call(this)},a.jqplot.BubbleAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer,a.jqplot.BubbleAxisRenderer.prototype.constructor=a.jqplot.BubbleAxisRenderer,a.jqplot.BubbleAxisRenderer.prototype.init=function(b){a.extend(!0,this,b);for(var c=this._dataBounds,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0;n<this._series.length;n++)for(var o=this._series[n],p=o._plotData,q=0;q<p.length;q++)"xaxis"==this.name||"x2axis"==this.name?((p[q][0]<c.min||null==c.min)&&(c.min=p[q][0],d=n,e=q,i=p[q][2],j=o.maxRadius,m=o.autoscaleMultiplier),(p[q][0]>c.max||null==c.max)&&(c.max=p[q][0],f=n,g=q,h=p[q][2],k=o.maxRadius,l=o.autoscaleMultiplier)):((p[q][1]<c.min||null==c.min)&&(c.min=p[q][1],d=n,e=q,i=p[q][2],j=o.maxRadius,m=o.autoscaleMultiplier),(p[q][1]>c.max||null==c.max)&&(c.max=p[q][1],f=n,g=q,h=p[q][2],k=o.maxRadius,l=o.autoscaleMultiplier));var r=i/j,s=h/k,t=c.max-c.min,u=(Math.min(this._plotDimensions.width,this._plotDimensions.height),r*m/3*t),v=s*l/3*t;c.max+=v,c.min-=u},a.jqplot.preInitHooks.push(j)}(jQuery);