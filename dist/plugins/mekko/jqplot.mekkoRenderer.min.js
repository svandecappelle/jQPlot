!function(a){function b(b,c,d){d=d||{},d.axesDefaults=d.axesDefaults||{},d.legend=d.legend||{},d.seriesDefaults=d.seriesDefaults||{};var e=!1;if(d.seriesDefaults.renderer==a.jqplot.MekkoRenderer)e=!0;else if(d.series)for(var f=0;f<d.series.length;f++)d.series[f].renderer==a.jqplot.MekkoRenderer&&(e=!0);e&&(d.axesDefaults.renderer=a.jqplot.MekkoAxisRenderer,d.legend.renderer=a.jqplot.MekkoLegendRenderer,d.legend.preDraw=!0)}a.jqplot.MekkoRenderer=function(){this.shapeRenderer=new a.jqplot.ShapeRenderer,this.borderColor=null,this.showBorders=!0},a.jqplot.MekkoRenderer.prototype.init=function(b,c){this.fill=!1,this.fillRect=!0,this.strokeRect=!0,this.shadow=!1,this._xwidth=0,this._xstart=0,a.extend(!0,this.renderer,b);var d={lineJoin:"miter",lineCap:"butt",isarc:!1,fillRect:this.fillRect,strokeRect:this.strokeRect};this.renderer.shapeRenderer.init(d),c.axes.x2axis._series.push(this),this._type="mekko"},a.jqplot.MekkoRenderer.prototype.setGridData=function(a){var b=this._xaxis.series_u2p,c=(this._yaxis.series_u2p,this._plotData);this.gridData=[],this._xwidth=b(this._sumy)-b(0),this.index>0&&(this._xstart=a.series[this.index-1]._xstart+a.series[this.index-1]._xwidth);for(var d,e,f=this.canvas.getHeight(),g=0,h=0;h<c.length;h++)null!=c[h]&&(g+=c[h][1],d=f-g/this._sumy*f,e=c[h][1]/this._sumy*f,this.gridData.push([this._xstart,d,this._xwidth,e]))},a.jqplot.MekkoRenderer.prototype.makeGridData=function(a,b){for(var c,d,e=(this._xaxis.series_u2p,this.canvas.getHeight()),f=0,g=[],h=0;h<a.length;h++)null!=a[h]&&(f+=a[h][1],c=e-f/this._sumy*e,d=a[h][1]/this._sumy*e,g.push([this._xstart,c,this._xwidth,d]));return g},a.jqplot.MekkoRenderer.prototype.draw=function(b,c,d){var e,f=void 0!=d?d:{},g=void 0!=f.showLine?f.showLine:this.showLine,h=new a.jqplot.ColorGenerator(this.seriesColors);if(b.save(),c.length&&g)for(e=0;e<c.length;e++)f.fillStyle=h.next(),this.renderer.showBorders?f.strokeStyle=this.renderer.borderColor:f.strokeStyle=f.fillStyle,this.renderer.shapeRenderer.draw(b,c[e],f);b.restore()},a.jqplot.MekkoRenderer.prototype.drawShadow=function(a,b,c){},a.jqplot.MekkoLegendRenderer=function(){},a.jqplot.MekkoLegendRenderer.prototype.init=function(b){this.numberRows=null,this.numberColumns=null,this.placement="outside",a.extend(!0,this,b)},a.jqplot.MekkoLegendRenderer.prototype.draw=function(){if(this.show){var b=this._series,c="position:absolute;";c+=this.background?"background:"+this.background+";":"",c+=this.border?"border:"+this.border+";":"",c+=this.fontSize?"font-size:"+this.fontSize+";":"",c+=this.fontFamily?"font-family:"+this.fontFamily+";":"",c+=this.textColor?"color:"+this.textColor+";":"",this._elem=a('<table class="jqplot-table-legend" style="'+c+'"></table>');var d,e,f=!1,g=!0,h=b[0],i=new a.jqplot.ColorGenerator(h.seriesColors);if(h.show){var j=h.data;this.numberRows?(d=this.numberRows,e=this.numberColumns?this.numberColumns:Math.ceil(j.length/d)):this.numberColumns?(e=this.numberColumns,d=Math.ceil(j.length/this.numberColumns)):(d=j.length,e=1);var k,l,m,n,o,p,q,r,s=0;for(k=0;d>k;k++)for(m=g?a('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem):a('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem),l=0;e>l;l++)s<j.length&&(p=this.labels[s]||j[s][0].toString(),r=i.next(),f=g?k==d-1?!1:!0:k>0?!0:!1,q=f?this.rowSpacing:"0",n=a('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+q+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+r+';"></div></div></td>'),o=a('<td class="jqplot-table-legend" style="padding-top:'+q+';"></td>'),this.escapeHtml?o.text(p):o.html(p),g?(o.prependTo(m),n.prependTo(m)):(n.appendTo(m),o.appendTo(m)),f=!0),s++;m=null,n=null,o=null}}return this._elem},a.jqplot.MekkoLegendRenderer.prototype.pack=function(a){if(this.show){var b={_top:a.top,_left:a.left,_right:a.right,_bottom:this._plotDimensions.height-a.bottom};if("insideGrid"==this.placement)switch(this.location){case"nw":var c=b._left+this.xoffset,d=b._top+this.yoffset;this._elem.css("left",c),this._elem.css("top",d);break;case"n":var c=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,d=b._top+this.yoffset;this._elem.css("left",c),this._elem.css("top",d);break;case"ne":var c=a.right+this.xoffset,d=b._top+this.yoffset;this._elem.css({right:c,top:d});break;case"e":var c=a.right+this.xoffset,d=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({right:c,top:d});break;case"se":var c=a.right+this.xoffset,d=a.bottom+this.yoffset;this._elem.css({right:c,bottom:d});break;case"s":var c=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,d=a.bottom+this.yoffset;this._elem.css({left:c,bottom:d});break;case"sw":var c=b._left+this.xoffset,d=a.bottom+this.yoffset;this._elem.css({left:c,bottom:d});break;case"w":var c=b._left+this.xoffset,d=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({left:c,top:d});break;default:var c=b._right-this.xoffset,d=b._bottom+this.yoffset;this._elem.css({right:c,bottom:d})}else switch(this.location){case"nw":var c=this._plotDimensions.width-b._left+this.xoffset,d=b._top+this.yoffset;this._elem.css("right",c),this._elem.css("top",d);break;case"n":var c=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,d=this._plotDimensions.height-b._top+this.yoffset;this._elem.css("left",c),this._elem.css("bottom",d);break;case"ne":var c=this._plotDimensions.width-a.right+this.xoffset,d=b._top+this.yoffset;this._elem.css({left:c,top:d});break;case"e":var c=this._plotDimensions.width-a.right+this.xoffset,d=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({left:c,top:d});break;case"se":var c=this._plotDimensions.width-a.right+this.xoffset,d=a.bottom+this.yoffset;this._elem.css({left:c,bottom:d});break;case"s":var c=(a.left+(this._plotDimensions.width-a.right))/2-this.getWidth()/2,d=this._plotDimensions.height-a.bottom+this.yoffset;this._elem.css({left:c,top:d});break;case"sw":var c=this._plotDimensions.width-b._left+this.xoffset,d=a.bottom+this.yoffset;this._elem.css({right:c,bottom:d});break;case"w":var c=this._plotDimensions.width-b._left+this.xoffset,d=(a.top+(this._plotDimensions.height-a.bottom))/2-this.getHeight()/2;this._elem.css({right:c,top:d});break;default:var c=b._right-this.xoffset,d=b._bottom+this.yoffset;this._elem.css({right:c,bottom:d})}}},a.jqplot.preInitHooks.push(b)}(jQuery);