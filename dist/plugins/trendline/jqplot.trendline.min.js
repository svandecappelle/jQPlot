!function(a){function b(a){var b=null;if(a.trendline&&a.trendline.show){var c=a.trendline.label.toString();c&&(b={label:c,color:a.trendline.color})}return b}function c(b,c,d,e,f){!this._type||"line"!==this._type&&"bar"!=this._type||(this.trendline=new a.jqplot.Trendline,e=e||{},a.extend(!0,this.trendline,{color:this.color},d.trendline,e.trendline),this.trendline.renderer.init.call(this.trendline,null))}function d(b,c){if(c=a.extend(!0,{},this.trendline,c),this.trendline&&c.show){var d,e=c.data||this.data;d=h(e,this.trendline.type);var f=c.gridData||this.renderer.makeGridData.call(this,d.data);this.trendline.renderer.draw.call(this.trendline,b,f,{showLine:!0,shadow:this.trendline.shadow})}}function e(a,b,c){var d,e,f=null==c?"linear":c,g=a.length,h=0,i=0,j=0,k=0,l=0,m=[],n=[];if("linear"==f)n=a,m=b;else if("exp"==f||"exponential"==f)for(var o=0;o<b.length;o++)b[o]<=0?g--:(n.push(a[o]),m.push(Math.log(b[o])));for(var o=0;g>o;o++)h+=n[o],i+=m[o],k+=n[o]*m[o],j+=n[o]*n[o],l+=m[o]*m[o];return d=(g*k-h*i)/(g*j-h*h),e=(i-d*h)/g,[d,e]}function f(a,b){var c;return c=e(a,b,"linear"),[c[0],c[1]]}function g(a,b){var c,d=a,f=b;c=e(d,f,"exp");var g=Math.exp(c[0]),h=Math.exp(c[1]);return[g,h]}function h(a,b){var c,d,e=null==b?"linear":b,h=[],i=[],j=[];for(k=0;k<a.length;k++)null!=a[k]&&null!=a[k][0]&&null!=a[k][1]&&(h.push(a[k][0]),i.push(a[k][1]));if("linear"==e){c=f(h,i);for(var k=0;k<h.length;k++)d=c[0]*h[k]+c[1],j.push([h[k],d])}else if("exp"==e||"exponential"==e){c=g(h,i);for(var k=0;k<h.length;k++)d=c[1]*Math.pow(c[0],h[k]),j.push([h[k],d])}return{data:j,slope:c[0],intercept:c[1]}}a.jqplot.Trendline=function(){this.show=a.jqplot.config.enablePlugins,this.color="#666666",this.renderer=new a.jqplot.LineRenderer,this.rendererOptions={marker:{show:!1}},this.label="",this.type="linear",this.shadow=!0,this.markerRenderer={show:!1},this.lineWidth=1.5,this.shadowAngle=45,this.shadowOffset=1,this.shadowAlpha=.07,this.shadowDepth=3,this.isTrendline=!0},a.jqplot.postSeriesInitHooks.push(c),a.jqplot.postDrawSeriesHooks.push(d),a.jqplot.addLegendRowHooks.push(b)}(jQuery);