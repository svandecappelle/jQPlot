!function(a){function b(b,c,d){d=d||{},d.axesDefaults=d.axesDefaults||{},d.grid=d.grid||{},d.legend=d.legend||{},d.seriesDefaults=d.seriesDefaults||{};var e=!1;if(d.seriesDefaults.renderer===a.jqplot.PyramidRenderer)e=!0;else if(d.series)for(var f=0;f<d.series.length;f++)d.series[f].renderer===a.jqplot.PyramidRenderer&&(e=!0);e&&(d.axesDefaults.renderer=a.jqplot.PyramidAxisRenderer,d.grid.renderer=a.jqplot.PyramidGridRenderer,d.seriesDefaults.pointLabels={show:!1})}function c(){this.plugins.pyramidRenderer&&this.plugins.pyramidRenderer.highlightCanvas&&(this.plugins.pyramidRenderer.highlightCanvas.resetCanvas(),this.plugins.pyramidRenderer.highlightCanvas=null),this.plugins.pyramidRenderer={highlightedSeriesIndex:null},this.plugins.pyramidRenderer.highlightCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.pyramidRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-pyramidRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.pyramidRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(a){e(a.data.plot)})}function d(a,b,c,d){var e=a.series[b],f=a.plugins.pyramidRenderer.highlightCanvas;f._ctx.clearRect(0,0,f._ctx.canvas.width,f._ctx.canvas.height),e._highlightedPoint=c,a.plugins.pyramidRenderer.highlightedSeriesIndex=b;var g={fillStyle:e.highlightColors[c],fillRect:!1};e.renderer.shapeRenderer.draw(f._ctx,d,g),e.synchronizeHighlight!==!1&&a.series.length>=e.synchronizeHighlight&&e.synchronizeHighlight!==b&&(e=a.series[e.synchronizeHighlight],g={fillStyle:e.highlightColors[c],fillRect:!1},e.renderer.shapeRenderer.draw(f._ctx,e._barPoints[c],g)),f=null}function e(a){var b=a.plugins.pyramidRenderer.highlightCanvas;b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(var c=0;c<a.series.length;c++)a.series[c]._highlightedPoint=null;a.plugins.pyramidRenderer.highlightedSeriesIndex=null,a.target.trigger("jqplotDataUnhighlight"),b=null}function f(a,b,c,f,g){if(f){var h=[f.seriesIndex,f.pointIndex,f.data],i=jQuery.Event("jqplotDataMouseOver");if(i.pageX=a.pageX,i.pageY=a.pageY,g.target.trigger(i,h),g.series[h[0]].highlightMouseOver&&(h[0]!=g.plugins.pyramidRenderer.highlightedSeriesIndex||h[1]!=g.series[h[0]]._highlightedPoint)){var j=jQuery.Event("jqplotDataHighlight");j.which=a.which,j.pageX=a.pageX,j.pageY=a.pageY,g.target.trigger(j,h),d(g,f.seriesIndex,f.pointIndex,f.points)}}else null==f&&e(g)}a.jqplot.PyramidRenderer=function(){a.jqplot.LineRenderer.call(this)},a.jqplot.PyramidRenderer.prototype=new a.jqplot.LineRenderer,a.jqplot.PyramidRenderer.prototype.constructor=a.jqplot.PyramidRenderer,a.jqplot.PyramidRenderer.prototype.init=function(b,d){b=b||{},this._type="pyramid",this.barPadding=10,this.barWidth=null,this.fill=!0,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.highlightThreshold=2,this.synchronizeHighlight=!1,this.offsetBars=!1,b.highlightMouseDown&&null==b.highlightMouseOver&&(b.highlightMouseOver=!1),this.side="right",a.extend(!0,this,b),"left"===this.side?this._highlightThreshold=[[-this.highlightThreshold,0],[-this.highlightThreshold,0],[0,0],[0,0]]:this._highlightThreshold=[[0,0],[0,0],[this.highlightThreshold,0],[this.highlightThreshold,0]],this.renderer.options=b,this._highlightedPoint=null,this._dataColors=[],this._barPoints=[],this.fillAxis="y",this._primaryAxis="_yaxis",this._xnudge=0;var e={lineJoin:"miter",lineCap:"butt",fill:this.fill,fillRect:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill,lineWidth:this.lineWidth};this.renderer.shapeRenderer.init(e);var g=b.shadowOffset;null==g&&(g=this.lineWidth>2.5?1.25*(1+.6*(Math.atan(this.lineWidth/2.5)/.785398163-1)):1.25*Math.atan(this.lineWidth/2.5)/.785398163);var h={lineJoin:"miter",lineCap:"butt",fill:this.fill,fillRect:this.fill,isarc:!1,angle:this.shadowAngle,offset:g,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill,lineWidth:this.lineWidth};if(this.renderer.shadowRenderer.init(h),d.postDrawHooks.addOnce(c),d.eventListenerHooks.addOnce("jqplotMouseMove",f),"left"===this.side)for(var i=0,j=this.data.length;j>i;i++)this.data[i][1]=-Math.abs(this.data[i][1])},a.jqplot.PyramidRenderer.prototype.setGridData=function(a){var b=this._xaxis.series_u2p,c=this._yaxis.series_u2p,d=this._plotData;this._prevPlotData;this.gridData=[],this._prevGridData=[];var e,f=d.length,g=!1;for(e=0;f>e;e++)d[e][1]<0&&(this.side="left");for("yMidAxis"===this._yaxis.name&&"right"===this.side&&(this._xnudge=this._xaxis.max/2e3,g=!0),e=0;f>e;e++)null!=d[e][0]&&null!=d[e][1]?this.gridData.push([b(d[e][1]),c(d[e][0])]):null==d[e][0]?this.gridData.push([b(d[e][1]),null]):null==d[e][1]&&this.gridData.push(null,[c(d[e][0])]),0===d[e][1]&&g&&(this.gridData[e][0]=b(this._xnudge))},a.jqplot.PyramidRenderer.prototype.makeGridData=function(a,b){var c,d=this._xaxis.series_u2p,e=this._yaxis.series_u2p,f=[],g=a.length,h=!1;for(c=0;g>c;c++)a[c][1]<0&&(this.side="left");for("yMidAxis"===this._yaxis.name&&"right"===this.side&&(this._xnudge=this._xaxis.max/2e3,h=!0),c=0;g>c;c++)null!=a[c][0]&&null!=a[c][1]?f.push([d(a[c][1]),e(a[c][0])]):null==a[c][0]?f.push([d(a[c][1]),null]):null==a[c][1]&&f.push([null,e(a[c][0])]),0===a[c][1]&&h&&(f[c][0]=d(this._xnudge));return f},a.jqplot.PyramidRenderer.prototype.setBarWidth=function(){var a=0,b=this[this._primaryAxis];a=b.max-b.min;var c=(b.numberTicks,0===this.barPadding?1:0);"xaxis"==b.name||"x2axis"==b.name?this.barWidth=(b._offsets.max-b._offsets.min)/a-this.barPadding+c:this.fill?this.barWidth=(b._offsets.min-b._offsets.max)/a-this.barPadding+c:this.barWidth=(b._offsets.min-b._offsets.max)/a},a.jqplot.PyramidRenderer.prototype.draw=function(b,c,d){var e,f=a.extend({},d),g=void 0!=f.shadow?f.shadow:this.shadow,h=void 0!=f.showLine?f.showLine:this.showLine;void 0!=f.fill?f.fill:this.fill,this._xaxis.series_u2p,this._yaxis.series_u2p;this._dataColors=[],this._barPoints=[],null==this.renderer.options.barWidth&&this.renderer.setBarWidth.call(this);var i,j,k=[];if(h){var l=new a.jqplot.ColorGenerator(this.negativeSeriesColors),m=new a.jqplot.ColorGenerator(this.seriesColors),n=l.get(this.index);this.useNegativeColors||(n=f.fillStyle);for(var o,p=f.fillStyle,q=this._xaxis.series_u2p(this._xnudge),r=this._yaxis.series_u2p(this._yaxis.min),s=this._yaxis.series_u2p(this._yaxis.max),t=this.barWidth,u=t/2,k=[],v=this.offsetBars?u:0,e=0,w=c.length;w>e;e++)if(null!=this.data[e][0])if(o=c[e][1],this._plotData[e][1]<0?this.varyBarColor&&!this._stack&&(this.useNegativeColors?f.fillStyle=l.next():f.fillStyle=m.next()):this.varyBarColor&&!this._stack?f.fillStyle=m.next():f.fillStyle=p,this.fill){this._plotData[e][1]>=0?(i=c[e][0]-q,j=this.barWidth,k=[q,o-u-v,i,j]):(i=q-c[e][0],j=this.barWidth,k=[c[e][0],o-u-v,i,j]),this._barPoints.push([[k[0],k[1]+j],[k[0],k[1]],[k[0]+i,k[1]],[k[0]+i,k[1]+j]]),g&&this.renderer.shadowRenderer.draw(b,k);var x=f.fillStyle||this.color;this._dataColors.push(x),this.renderer.shapeRenderer.draw(b,k,f)}else if(0===e)k=[[q,r],[c[e][0],r],[c[e][0],c[e][1]-u-v]];else if(w-1>e)k=k.concat([[c[e-1][0],c[e-1][1]-u-v],[c[e][0],c[e][1]+u-v],[c[e][0],c[e][1]-u-v]]);else{k=k.concat([[c[e-1][0],c[e-1][1]-u-v],[c[e][0],c[e][1]+u-v],[c[e][0],s],[q,s]]),g&&this.renderer.shadowRenderer.draw(b,k);var x=f.fillStyle||this.color;this._dataColors.push(x),this.renderer.shapeRenderer.draw(b,k,f)}}if(0==this.highlightColors.length)this.highlightColors=a.jqplot.computeHighlightColors(this._dataColors);else if("string"==typeof this.highlightColors){this.highlightColors=[];for(var e=0;e<this._dataColors.length;e++)this.highlightColors.push(this.highlightColors)}},a.jqplot.preInitHooks.push(b)}(jQuery);