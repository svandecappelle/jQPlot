!function(a){a.jqplot.PyramidGridRenderer=function(){a.jqplot.CanvasGridRenderer.call(this)},a.jqplot.PyramidGridRenderer.prototype=new a.jqplot.CanvasGridRenderer,a.jqplot.PyramidGridRenderer.prototype.constructor=a.jqplot.PyramidGridRenderer,a.jqplot.CanvasGridRenderer.prototype.init=function(b){this._ctx,this.plotBands={show:!1,color:"rgb(230, 219, 179)",axis:"y",start:null,interval:10},a.extend(!0,this,b);var c={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(c)},a.jqplot.PyramidGridRenderer.prototype.draw=function(){function b(b,d,e,f,g){c.save(),g=g||{},(null==g.lineWidth||0!=g.lineWidth)&&(a.extend(!0,c,g),c.beginPath(),c.moveTo(b,d),c.lineTo(e,f),c.stroke()),c.restore()}this._ctx=this._elem.get(0).getContext("2d");var c=this._ctx,d=this._axes,e=d.xaxis.u2p,f=(d.yMidAxis.u2p,d.xaxis.max/1e3),g=e(0),h=e(f),i=["xaxis","yaxis","x2axis","y2axis","yMidAxis"];if(c.save(),c.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),c.fillStyle=this.backgroundColor||this.background,c.fillRect(this._left,this._top,this._width,this._height),this.plotBands.show){c.save();var j=this.plotBands;c.fillStyle=j.color;var k,l,m,n,o;if("x"===j.axis.charAt(0)?d.xaxis.show&&(k=d.xaxis):"y"===j.axis.charAt(0)&&(d.yaxis.show?k=d.yaxis:d.y2axis.show?k=d.y2axis:d.yMidAxis.show&&(k=d.yMidAxis)),void 0!==k){var p=j.start;null===p&&(p=k.min);for(var q=p;q<k.max;q+=2*j.interval)"y"===k.name.charAt(0)&&(l=this._left,m=q+j.interval<k.max?k.series_u2p(q+j.interval)+this._top:k.series_u2p(k.max)+this._top,n=this._right-this._left,o=k.series_u2p(p)-k.series_u2p(p+j.interval),c.fillRect(l,m,n,o))}c.restore()}c.save(),c.lineJoin="miter",c.lineCap="butt",c.lineWidth=this.gridLineWidth,c.strokeStyle=this.gridLineColor;for(var r,s,t,u,q=5;q>0;q--){var v=i[q-1],k=d[v],w=k._ticks,x=w.length;if(k.show){if(k.drawBaseline){var y={};switch(null!==k.baselineWidth&&(y.lineWidth=k.baselineWidth),null!==k.baselineColor&&(y.strokeStyle=k.baselineColor),v){case"xaxis":d.yMidAxis.show?(b(this._left,this._bottom,g,this._bottom,y),b(h,this._bottom,this._right,this._bottom,y)):b(this._left,this._bottom,this._right,this._bottom,y);break;case"yaxis":b(this._left,this._bottom,this._left,this._top,y);break;case"yMidAxis":b(g,this._bottom,g,this._top,y),b(h,this._bottom,h,this._top,y);break;case"x2axis":d.yMidAxis.show?(b(this._left,this._top,g,this._top,y),b(h,this._top,this._right,this._top,y)):b(this._left,this._bottom,this._right,this._bottom,y);break;case"y2axis":b(this._right,this._bottom,this._right,this._top,y)}}for(var z=x;z>0;z--){var A=w[z-1];if(A.show){var B=Math.round(k.u2p(A.value))+.5;switch(v){case"xaxis":if(A.showGridline&&this.drawGridlines&&(!A.isMinorTick||k.showMinorTicks)&&b(B,this._top,B,this._bottom),A.showMark&&A.mark&&(!A.isMinorTick||k.showMinorTicks)){t=A.markSize,u=A.mark;var B=Math.round(k.u2p(A.value))+.5;switch(u){case"outside":r=this._bottom,s=this._bottom+t;break;case"inside":r=this._bottom-t,s=this._bottom;break;case"cross":r=this._bottom-t,s=this._bottom+t;break;default:r=this._bottom,s=this._bottom+t}this.shadow&&this.renderer.shadowRenderer.draw(c,[[B,r],[B,s]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),b(B,r,B,s)}break;case"yaxis":if(A.showGridline&&this.drawGridlines&&(!A.isMinorTick||k.showMinorTicks)&&b(this._right,B,this._left,B),A.showMark&&A.mark&&(!A.isMinorTick||k.showMinorTicks)){t=A.markSize,u=A.mark;var B=Math.round(k.u2p(A.value))+.5;switch(u){case"outside":r=this._left-t,s=this._left;break;case"inside":r=this._left,s=this._left+t;break;case"cross":r=this._left-t,s=this._left+t;break;default:r=this._left-t,s=this._left}this.shadow&&this.renderer.shadowRenderer.draw(c,[[r,B],[s,B]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(r,B,s,B,{strokeStyle:k.borderColor})}break;case"yMidAxis":if(A.showGridline&&this.drawGridlines&&(!A.isMinorTick||k.showMinorTicks)&&(b(this._left,B,g,B),b(h,B,this._right,B)),A.showMark&&A.mark&&(!A.isMinorTick||k.showMinorTicks)){t=A.markSize,u=A.mark;var B=Math.round(k.u2p(A.value))+.5;r=g,s=g+t,this.shadow&&this.renderer.shadowRenderer.draw(c,[[r,B],[s,B]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(r,B,s,B,{strokeStyle:k.borderColor}),r=h-t,s=h,this.shadow&&this.renderer.shadowRenderer.draw(c,[[r,B],[s,B]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(r,B,s,B,{strokeStyle:k.borderColor})}break;case"x2axis":if(A.showGridline&&this.drawGridlines&&(!A.isMinorTick||k.showMinorTicks)&&b(B,this._bottom,B,this._top),A.showMark&&A.mark&&(!A.isMinorTick||k.showMinorTicks)){t=A.markSize,u=A.mark;var B=Math.round(k.u2p(A.value))+.5;switch(u){case"outside":r=this._top-t,s=this._top;break;case"inside":r=this._top,s=this._top+t;break;case"cross":r=this._top-t,s=this._top+t;break;default:r=this._top-t,s=this._top}this.shadow&&this.renderer.shadowRenderer.draw(c,[[B,r],[B,s]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),b(B,r,B,s)}break;case"y2axis":if(A.showGridline&&this.drawGridlines&&(!A.isMinorTick||k.showMinorTicks)&&b(this._left,B,this._right,B),A.showMark&&A.mark&&(!A.isMinorTick||k.showMinorTicks)){t=A.markSize,u=A.mark;var B=Math.round(k.u2p(A.value))+.5;switch(u){case"outside":r=this._right,s=this._right+t;break;case"inside":r=this._right-t,s=this._right;break;case"cross":r=this._right-t,s=this._right+t;break;default:r=this._right,s=this._right+t}this.shadow&&this.renderer.shadowRenderer.draw(c,[[r,B],[s,B]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),b(r,B,s,B,{strokeStyle:k.borderColor})}}}}A=null}k=null,w=null}if(c.restore(),this.shadow)if(d.yMidAxis.show){var C=[[this._left,this._bottom],[g,this._bottom]];this.renderer.shadowRenderer.draw(c,C);var C=[[h,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(c,C);var C=[[g,this._bottom],[g,this._top]];this.renderer.shadowRenderer.draw(c,C)}else{var C=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(c,C)}0!=this.borderWidth&&this.drawBorder&&(d.yMidAxis.show?(b(this._left,this._top,g,this._top,{lineCap:"round",strokeStyle:d.x2axis.borderColor,lineWidth:d.x2axis.borderWidth}),b(h,this._top,this._right,this._top,{lineCap:"round",strokeStyle:d.x2axis.borderColor,lineWidth:d.x2axis.borderWidth}),b(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:d.y2axis.borderColor,lineWidth:d.y2axis.borderWidth}),b(this._right,this._bottom,h,this._bottom,{lineCap:"round",strokeStyle:d.xaxis.borderColor,lineWidth:d.xaxis.borderWidth}),b(g,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:d.xaxis.borderColor,lineWidth:d.xaxis.borderWidth}),b(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:d.yaxis.borderColor,lineWidth:d.yaxis.borderWidth}),b(g,this._bottom,g,this._top,{lineCap:"round",strokeStyle:d.yaxis.borderColor,lineWidth:d.yaxis.borderWidth}),b(h,this._bottom,h,this._top,{lineCap:"round",strokeStyle:d.yaxis.borderColor,lineWidth:d.yaxis.borderWidth})):(b(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:d.x2axis.borderColor,lineWidth:d.x2axis.borderWidth}),b(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:d.y2axis.borderColor,lineWidth:d.y2axis.borderWidth}),b(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:d.xaxis.borderColor,lineWidth:d.xaxis.borderWidth}),b(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:d.yaxis.borderColor,lineWidth:d.yaxis.borderWidth}))),c.restore(),c=null,d=null}}(jQuery);