!function(a){function b(b,c,d,e){if("horizontal"==this.rendererOptions.barDirection&&(this._stackAxis="x",this._primaryAxis="_yaxis"),1==this.rendererOptions.waterfall){this._data=a.extend(!0,[],this.data);for(var f=0,g=this.rendererOptions.barDirection&&"vertical"!==this.rendererOptions.barDirection&&this.transposedData!==!1?0:1,h=0;h<this.data.length;h++)f+=this.data[h][g],h>0&&(this.data[h][g]+=this.data[h-1][g]);this.data[this.data.length]=1==g?[this.data.length+1,f]:[f,this.data.length+1],this._data[this._data.length]=1==g?[this._data.length+1,f]:[f,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;for(var i=this.data.length,j=parseInt(i/this.rendererOptions.groups,10),k=0,h=j;i>h;h+=j)this.data.splice(h+k,0,[null,null]),this._plotData.splice(h+k,0,[null,null]),this._stackData.splice(h+k,0,[null,null]),k++;for(h=0;h<this.data.length;h++)"_xaxis"==this._primaryAxis?(this.data[h][0]=h+1,this._plotData[h][0]=h+1,this._stackData[h][0]=h+1):(this.data[h][1]=h+1,this._plotData[h][1]=h+1,this._stackData[h][1]=h+1)}}function c(a,b,d,e,f){var g,h,i=a,j=a-1,k="x"===f?0:1;return i>0?(h=e.series[j]._plotData[b][k],g=0>d*h?c(j,b,d,e,f):e.series[j].gridData[b][k]):g=0===k?e.series[i]._xaxis.series_u2p(0):e.series[i]._yaxis.series_u2p(0),g}function d(b,c,d){for(var e=0;e<this.series.length;e++)this.series[e].renderer.constructor==a.jqplot.BarRenderer&&this.series[e].highlightMouseOver&&(this.series[e].highlightMouseDown=!1)}function e(){this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas&&(this.plugins.barRenderer.highlightCanvas.resetCanvas(),this.plugins.barRenderer.highlightCanvas=null),this.plugins.barRenderer={highlightedSeriesIndex:null},this.plugins.barRenderer.highlightCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.barRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(a){g(a.data.plot)})}function f(a,b,c,d){var e=a.series[b],f=a.plugins.barRenderer.highlightCanvas;f._ctx.clearRect(0,0,f._ctx.canvas.width,f._ctx.canvas.height),e._highlightedPoint=c,a.plugins.barRenderer.highlightedSeriesIndex=b;var g={fillStyle:e.highlightColors[c]};e.renderer.shapeRenderer.draw(f._ctx,d,g),f=null}function g(a){var b=a.plugins.barRenderer.highlightCanvas;b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(var c=0;c<a.series.length;c++)a.series[c]._highlightedPoint=null;a.plugins.barRenderer.highlightedSeriesIndex=null,a.target.trigger("jqplotDataUnhighlight"),b=null}function h(a,b,c,d,e){if(d){var h=[d.seriesIndex,d.pointIndex,d.data],i=jQuery.Event("jqplotDataMouseOver");if(i.pageX=a.pageX,i.pageY=a.pageY,e.target.trigger(i,h),e.series[h[0]].show&&e.series[h[0]].highlightMouseOver&&(h[0]!=e.plugins.barRenderer.highlightedSeriesIndex||h[1]!=e.series[h[0]]._highlightedPoint)){var j=jQuery.Event("jqplotDataHighlight");j.which=a.which,j.pageX=a.pageX,j.pageY=a.pageY,e.target.trigger(j,h),f(e,d.seriesIndex,d.pointIndex,d.points)}}else null==d&&g(e)}function i(a,b,c,d,e){if(d){var h=[d.seriesIndex,d.pointIndex,d.data];if(e.series[h[0]].highlightMouseDown&&(h[0]!=e.plugins.barRenderer.highlightedSeriesIndex||h[1]!=e.series[h[0]]._highlightedPoint)){var i=jQuery.Event("jqplotDataHighlight");i.which=a.which,i.pageX=a.pageX,i.pageY=a.pageY,e.target.trigger(i,h),f(e,d.seriesIndex,d.pointIndex,d.points)}}else null==d&&g(e)}function j(a,b,c,d,e){var f=e.plugins.barRenderer.highlightedSeriesIndex;null!=f&&e.series[f].highlightMouseDown&&g(e)}function k(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],g=jQuery.Event("jqplotDataClick");g.which=a.which,g.pageX=a.pageX,g.pageY=a.pageY,e.target.trigger(g,f)}}function l(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],h=e.plugins.barRenderer.highlightedSeriesIndex;null!=h&&e.series[h].highlightMouseDown&&g(e);var i=jQuery.Event("jqplotDataRightClick");i.which=a.which,i.pageX=a.pageX,i.pageY=a.pageY,e.target.trigger(i,f)}}a.jqplot.BarRenderer=function(){a.jqplot.LineRenderer.call(this)},a.jqplot.BarRenderer.prototype=new a.jqplot.LineRenderer,a.jqplot.BarRenderer.prototype.constructor=a.jqplot.BarRenderer,a.jqplot.BarRenderer.prototype.init=function(b,c){this.barPadding=8,this.barMargin=10,this.barDirection="vertical",this.barWidth=null,this.shadowOffset=2,this.shadowDepth=5,this.shadowAlpha=.08,this.waterfall=!1,this.groups=1,this.varyBarColor=!1,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.transposedData=!0,this.renderer.animation={show:!1,direction:"down",speed:3e3,_supported:!0},this._type="bar",b.highlightMouseDown&&null==b.highlightMouseOver&&(b.highlightMouseOver=!1),a.extend(!0,this,b),a.extend(!0,this.renderer,b),this.fill=!0,"horizontal"===this.barDirection&&this.rendererOptions.animation&&null==this.rendererOptions.animation.direction&&(this.renderer.animation.direction="left"),this.waterfall&&(this.fillToZero=!1,this.disableStack=!0),"vertical"==this.barDirection?(this._primaryAxis="_xaxis",this._stackAxis="y",this.fillAxis="y"):(this._primaryAxis="_yaxis",this._stackAxis="x",this.fillAxis="x"),this._highlightedPoint=null,this._plotSeriesInfo=null,this._dataColors=[],this._barPoints=[];var f={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill,fillGradient:this.fillGradient,fillGradientColor:this.fillGradientColor,fillGradientDelay:this.fillGradientDelay};this.renderer.shapeRenderer.init(f);var g={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(g),c.postInitHooks.addOnce(d),c.postDrawHooks.addOnce(e),c.eventListenerHooks.addOnce("jqplotMouseMove",h),c.eventListenerHooks.addOnce("jqplotMouseDown",i),c.eventListenerHooks.addOnce("jqplotMouseUp",j),c.eventListenerHooks.addOnce("jqplotClick",k),c.eventListenerHooks.addOnce("jqplotRightClick",l)},a.jqplot.preSeriesInitHooks.push(b),a.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){for(var b,c,d=0,e=0,f=this[this._primaryAxis],g=0;g<f._series.length;g++)b=f._series[g],b===this&&(c=e),b.renderer.constructor==a.jqplot.BarRenderer&&(d+=b.data.length,e+=1);return[d,e,c]},a.jqplot.BarRenderer.prototype.setBarWidth=function(){var a=0,b=0,c=this[this._primaryAxis],d=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);a=d[0],b=d[1];var e=c.numberTicks,f=(e-1)/2;return"xaxis"==c.name||"x2axis"==c.name?this._stack?this.barWidth=(c._offsets.max-c._offsets.min)/a*b-this.barMargin:this.barWidth=((c._offsets.max-c._offsets.min)/f-this.barPadding*(b-1)-2*this.barMargin)/b:this._stack?this.barWidth=(c._offsets.min-c._offsets.max)/a*b-this.barMargin:this.barWidth=((c._offsets.min-c._offsets.max)/f-this.barPadding*(b-1)-2*this.barMargin)/b,[a,b]},a.jqplot.BarRenderer.prototype.draw=function(b,d,e,f){var g,h=a.extend({},e),i=void 0!=h.shadow?h.shadow:this.shadow,j=void 0!=h.showLine?h.showLine:this.showLine;void 0!=h.fill?h.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;this._dataColors=[],this._barPoints=[],null==this.barWidth&&this.renderer.setBarWidth.call(this);var k=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),l=(k[0],k[1]),m=k[2],n=[];if(this._stack?this._barNudge=0:this._barNudge=(-Math.abs(l/2-.5)+m)*(this.barWidth+this.barPadding),j){var o=new a.jqplot.ColorGenerator(this.negativeSeriesColors),p=new a.jqplot.ColorGenerator(this.seriesColors),q=o.get(this.index);this.useNegativeColors||(q=h.fillStyle);var r,s,t,u=h.fillStyle;if("vertical"==this.barDirection){for(var g=0;g<d.length;g++)if(this._stack||null!=this.data[g][1]){if(n=[],r=d[g][0]+this._barNudge,t=this._stack&&this._prevGridData.length?c(this.index,g,this._plotData[g][1],f,"y"):this.fillToZero?this._yaxis.series_u2p(0):this.waterfall&&g>0&&g<this.gridData.length-1?this.gridData[g-1][1]:this.waterfall&&0==g&&g<this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?b.canvas.height:0:this.waterfall&&g==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?b.canvas.height:0:b.canvas.height,this.fillToZero&&this._plotData[g][1]<0||this.waterfall&&this._data[g][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?h.fillStyle=o.next():h.fillStyle=p.next():h.fillStyle=q:this.varyBarColor&&!this._stack?h.fillStyle=p.next():h.fillStyle=u,!this.fillToZero||this._plotData[g][1]>=0?(n.push([r-this.barWidth/2,t]),n.push([r-this.barWidth/2,d[g][1]]),n.push([r+this.barWidth/2,d[g][1]]),n.push([r+this.barWidth/2,t])):(n.push([r-this.barWidth/2,d[g][1]]),n.push([r-this.barWidth/2,t]),n.push([r+this.barWidth/2,t]),n.push([r+this.barWidth/2,d[g][1]])),this._barPoints.push(n),i&&!this._stack){var v=a.extend(!0,{},h);delete v.fillStyle,this.renderer.shadowRenderer.draw(b,n,v)}var w=h.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(b,n,h)}}else if("horizontal"==this.barDirection)for(var g=0;g<d.length;g++)if(this._stack||null!=this.data[g][0]){if(n=[],r=d[g][1]-this._barNudge,s=this._stack&&this._prevGridData.length?c(this.index,g,this._plotData[g][0],f,"x"):this.fillToZero?this._xaxis.series_u2p(0):this.waterfall&&g>0&&g<this.gridData.length-1?this.gridData[g-1][0]:this.waterfall&&0==g&&g<this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):(this._xaxis.min>0,0):this.waterfall&&g==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:b.canvas.width:0,this.fillToZero&&this._plotData[g][0]<0||this.waterfall&&this._data[g][0]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?h.fillStyle=o.next():h.fillStyle=p.next():h.fillStyle=q:this.varyBarColor&&!this._stack?h.fillStyle=p.next():h.fillStyle=u,!this.fillToZero||this._plotData[g][0]>=0?(n.push([s,r+this.barWidth/2]),n.push([s,r-this.barWidth/2]),n.push([d[g][0],r-this.barWidth/2]),n.push([d[g][0],r+this.barWidth/2])):(n.push([d[g][0],r+this.barWidth/2]),n.push([d[g][0],r-this.barWidth/2]),n.push([s,r-this.barWidth/2]),n.push([s,r+this.barWidth/2])),this._barPoints.push(n),i&&!this._stack){var v=a.extend(!0,{},h);delete v.fillStyle,this.renderer.shadowRenderer.draw(b,n,v)}var w=h.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(b,n,h)}}if(0==this.highlightColors.length)this.highlightColors=a.jqplot.computeHighlightColors(this._dataColors);else if("string"==typeof this.highlightColors){var k=this.highlightColors;this.highlightColors=[];for(var g=0;g<this._dataColors.length;g++)this.highlightColors.push(k)}},a.jqplot.BarRenderer.prototype.drawShadow=function(a,b,d,e){var f,g,h,i,j,k=void 0!=d?d:{},l=(void 0!=k.shadow?k.shadow:this.shadow,void 0!=k.showLine?k.showLine:this.showLine);void 0!=k.fill?k.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;if(this._stack&&this.shadow){null==this.barWidth&&this.renderer.setBarWidth.call(this);var m=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);if(h=m[0],i=m[1],j=m[2],this._stack?this._barNudge=0:this._barNudge=(-Math.abs(i/2-.5)+j)*(this.barWidth+this.barPadding),l)if("vertical"==this.barDirection){for(var f=0;f<b.length;f++)if(null!=this.data[f][1]){g=[];var n,o=b[f][0]+this._barNudge;n=this._stack&&this._prevGridData.length?c(this.index,f,this._plotData[f][1],e,"y"):this.fillToZero?this._yaxis.series_u2p(0):a.canvas.height,g.push([o-this.barWidth/2,n]),g.push([o-this.barWidth/2,b[f][1]]),g.push([o+this.barWidth/2,b[f][1]]),g.push([o+this.barWidth/2,n]),this.renderer.shadowRenderer.draw(a,g,k)}}else if("horizontal"==this.barDirection)for(var f=0;f<b.length;f++)if(null!=this.data[f][0]){g=[];var p,o=b[f][1]-this._barNudge;p=this._stack&&this._prevGridData.length?c(this.index,f,this._plotData[f][0],e,"x"):this.fillToZero?this._xaxis.series_u2p(0):0,g.push([p,o+this.barWidth/2]),g.push([b[f][0],o+this.barWidth/2]),g.push([b[f][0],o-this.barWidth/2]),g.push([p,o-this.barWidth/2]),this.renderer.shadowRenderer.draw(a,g,k)}}}}(jQuery);